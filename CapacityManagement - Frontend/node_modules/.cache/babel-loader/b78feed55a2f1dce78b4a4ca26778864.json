{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tekommin.REDMOND\\\\source\\\\repos\\\\capacity-management-ui\\\\src\\\\Map.js\";\nimport React from \"react\";\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4geodata_worldLow from \"@amcharts/amcharts4-geodata/worldLow\";\nimport am4geodata_usaLow from \"@amcharts/amcharts4-geodata/usaLow\";\nimport am4geodata_australiaLow from \"@amcharts/amcharts4-geodata/australiaLow\";\nimport am4geodata_chinaLow from \"@amcharts/amcharts4-geodata/chinaLow\";\nimport am4geodata_indiaLow from \"@amcharts/amcharts4-geodata/indiaLow\";\nimport am4geodata_japanLow from \"@amcharts/amcharts4-geodata/japanLow\";\nimport am4geodata_canadaLow from \"@amcharts/amcharts4-geodata/canadaLow\";\nimport am4geodata_ukLow from \"@amcharts/amcharts4-geodata/ukLow\";\nimport azureLocations from './AzureLocations.json';\nam4core.useTheme(am4themes_animated);\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.azureLocations = azureLocations;\n    this.state = {\n      error: null,\n      isLoaded: false,\n      liveRegions: [],\n      chart: null\n    };\n  }\n\n  componentDidMount() {\n    let chart = am4core.create(\"chartdiv\", am4maps.MapChart); // Set map definition\n\n    chart.geodata = am4geodata_worldLow; // Set projection\n\n    chart.projection = new am4maps.projections.Miller(); // Series for World map\n\n    let worldSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    worldSeries.useGeodata = true;\n    var polygonTemplate = worldSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true; // Hover state\n\n    let hs = polygonTemplate.states.create(\"hover\");\n    hs.properties.fill = am4core.color(\"#367B25\");\n    worldSeries.exclude = [\"AQ\"]; //worldSeries.exclude = [\"HK\"];\n\n    polygonTemplate.events.on(\"hit\", function (event) {\n      console.log(chart.zoomLevel);\n      console.log(chart.zoomGeoPoint);\n    });\n    /**\r\n     * Series for the U.S. map\r\n     * It will use its own `geodata`\r\n     */\n\n    let usaSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    usaSeries.geodata = am4geodata_usaLow;\n    usaSeries.useGeodata = true;\n    polygonTemplate = usaSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n    * Series for the Australia Map\r\n    * It will use its own `geodata`\r\n    */\n\n    let australiaSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    australiaSeries.geodata = am4geodata_australiaLow;\n    australiaSeries.useGeodata = true;\n    polygonTemplate = australiaSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n     * Series for the China Map\r\n     * It will use its own `geodata`\r\n     */\n\n    let chinaSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    chinaSeries.geodata = am4geodata_chinaLow;\n    chinaSeries.useGeodata = true;\n    polygonTemplate = chinaSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n     * Series for the India Map\r\n     * It will use its own `geodata`\r\n     */\n\n    let indiaSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    indiaSeries.geodata = am4geodata_indiaLow;\n    indiaSeries.useGeodata = true;\n    polygonTemplate = indiaSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n     * Series for the Japan Map\r\n     * It will use its own `geodata`\r\n     */\n\n    let japanSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    japanSeries.geodata = am4geodata_japanLow;\n    japanSeries.useGeodata = true;\n    polygonTemplate = japanSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n     * Series for the Canada Map\r\n     * It will use its own `geodata`\r\n     */\n\n    let canadaSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    canadaSeries.geodata = am4geodata_canadaLow;\n    canadaSeries.useGeodata = true;\n    polygonTemplate = canadaSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    /**\r\n    * Series for the UK Map\r\n    * It will use its own `geodata`\r\n    */\n\n    let ukSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    ukSeries.geodata = am4geodata_ukLow;\n    ukSeries.useGeodata = true;\n    polygonTemplate = ukSeries.mapPolygons.template;\n    polygonTemplate.tooltipText = \"{name}\";\n    polygonTemplate.fill = chart.colors.getIndex(0);\n    polygonTemplate.nonScalingStroke = true;\n    this.setState({\n      chart: chart\n    });\n    this.getAllRegions();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.isLoaded) this.renderMap(this.state.chart);\n  }\n\n  componentWillUnmount() {}\n\n  renderMap(chart) {\n    this.updateAzureLocations();\n    this.renderGeoLocations(chart);\n    this.renderGeoPairLines(chart);\n    this.includeExcludeGeoLocations(chart);\n    this.applyHeatLegend(chart);\n  }\n\n  updateAzureLocations() {\n    for (var liveRegion of this.state.liveRegions) {\n      let temp = this.azureLocations[liveRegion.GeoRegion];\n\n      if (temp != undefined) {\n        temp['ENUtilization'] = \"ENUtilization : \" + liveRegion.ENUtilization;\n        temp['SellableCapacity'] = \"SellableCapacity : \" + liveRegion.SellableCapacity;\n        this.azureLocations[liveRegion.GeoRegion] = temp;\n      }\n    }\n  }\n\n  renderGeoLocations(chart) {\n    /*\r\n      Adding markers\r\n    */\n    let imageSeries = chart.series.push(new am4maps.MapImageSeries());\n    let imageSeriesTemplate = imageSeries.mapImages.template;\n    let circle = imageSeriesTemplate.createChild(am4core.Circle);\n    circle.radius = 3;\n    circle.fill = am4core.color(\"#221177\");\n    circle.stroke = am4core.color(\"#FFFFFF\");\n    circle.strokeWidth = 1;\n    circle.nonScaling = true;\n    circle.tooltipText = \"{region} \\n {location} \\n {ENUtilization} \\n {SellableCapacity}\";\n    imageSeriesTemplate.propertyFields.latitude = \"latitude\";\n    imageSeriesTemplate.propertyFields.longitude = \"longitude\";\n    let imageSeriesData = [];\n    console.log(this.state.liveRegions);\n\n    for (var liveRegion of this.state.liveRegions) {\n      imageSeriesData.push(this.azureLocations[liveRegion.GeoRegion]);\n    }\n\n    imageSeries.data = imageSeriesData;\n    this.renderGeoPairLines(chart);\n  }\n\n  renderGeoPairLines(chart) {\n    var lineSeries = chart.series.push(new am4maps.MapArcSeries());\n    let lineSeriesTemplate = lineSeries.mapLines.template;\n    lineSeriesTemplate.shortestDistance = true;\n    lineSeriesTemplate.line.strokeWidth = 1;\n    lineSeriesTemplate.line.stroke = am4core.color(\"#2277AA\");\n    lineSeriesTemplate.line.strokeOpacity = 0.8;\n    lineSeriesTemplate.line.controlPointDistance = 0.5;\n    let drawnRegions = [];\n    let drawnLines = [];\n\n    for (var liveRegion of this.state.liveRegions) {\n      let drawnLine = false;\n      var i = 0;\n\n      for (; i < drawnRegions.length; i++) {\n        var temp = drawnRegions[i];\n\n        if (temp.toString() === [liveRegion.GeoPairRegion, liveRegion.GeoRegion].toString()) {\n          drawnLine = true;\n          break;\n        }\n      }\n\n      if (liveRegion.GeoRegion in this.azureLocations && !drawnLine) {\n        var line = lineSeries.mapLines.create();\n        line.multiGeoLine = [[{\n          \"latitude\": this.azureLocations[liveRegion.GeoRegion].latitude,\n          \"longitude\": this.azureLocations[liveRegion.GeoRegion].longitude\n        }, {\n          \"latitude\": this.azureLocations[liveRegion.GeoPairRegion].latitude,\n          \"longitude\": this.azureLocations[liveRegion.GeoPairRegion].longitude\n        }]];\n        var bullet = line.lineObjects.create();\n        bullet.position = 0.2;\n        var arrow = bullet.createChild(am4core.Triangle);\n        arrow.horizontalCenter = \"middle\";\n        arrow.verticalCenter = \"middle\";\n        arrow.stroke = am4core.color(\"#fff\");\n        arrow.direction = \"top\";\n        arrow.width = 7;\n        arrow.height = 7;\n        var labelBullet = line.lineObjects.create();\n        labelBullet = bullet.createChild(am4core.Label);\n        labelBullet.position = 0.2;\n        labelBullet.text = liveRegion.NumberOfPrimaryTenants;\n        labelBullet.dy = -20;\n        labelBullet.fontSize = 10;\n        drawnRegions.push([liveRegion.GeoRegion, liveRegion.GeoPairRegion]);\n        drawnLines.push(line);\n      }\n\n      if (drawnLine) {\n        var line = drawnLines[i];\n        var bullet = line.lineObjects.create();\n        bullet.position = 0.8;\n        var arrow = bullet.createChild(am4core.Triangle);\n        arrow.horizontalCenter = \"middle\";\n        arrow.verticalCenter = \"middle\";\n        arrow.stroke = am4core.color(\"#fff\");\n        arrow.direction = \"top\";\n        arrow.width = 7;\n        arrow.height = 7;\n        var labelBullet = line.lineObjects.create();\n        labelBullet = bullet.createChild(am4core.Label);\n        labelBullet.position = 0.8;\n        labelBullet.text = liveRegion.NumberOfPrimaryTenants;\n        labelBullet.dy = -20;\n        console.log(liveRegion.GeoRegion);\n      }\n    }\n  }\n\n  includeExcludeGeoLocations(chart) {\n    if (this.props.isGeographical) this.renderSelectedRegions(chart);\n  }\n\n  renderSelectedRegions(chart) {\n    let worldSeries = chart.series.getIndex(0);\n    console.log(this.props.geographyType);\n\n    if (this.props.geographyType === \"Americas\") {\n      //chart.events.on(\"ready\", function(ev) {\n      chart.zoomToGeoPoint({\n        longitude: -96.700470,\n        latitude: 40.820744\n      }, 2.4, true); //});  \n    }\n\n    if (this.props.geographyType === \"Asia Pacific\") {\n      // chart.zoomToMapObject(worldSeries.getPolygonById(\"AU\"));\n      //chart.events.on(\"ready\", function(ev) {\n      chart.zoomToGeoPoint({\n        longitude: 125.560310,\n        latitude: -8.556856\n      }, 1.8, true); //});  \n    }\n\n    if (this.props.geographyType === \"Europe\") {\n      chart.zoomToGeoPoint({\n        longitude: 19.040236,\n        latitude: 47.497913\n      }, 2.5, true);\n    }\n\n    if (this.props.geographyType === \"Middle East And Africa\") {\n      chart.zoomToGeoPoint({\n        longitude: 32.582520,\n        latitude: 0.347596\n      }, 2.3, true);\n    }\n\n    if (this.props.geographyType === \"Azure Government\") {\n      //chart.events.on(\"ready\", function(ev) {\n      chart.zoomToGeoPoint({\n        longitude: -96.700470,\n        latitude: 40.820744\n      }, 2.4, true); //});  \n    }\n  }\n\n  applyHeatLegend(chart) {\n    for (var liveRegion of this.state.liveRegions) {\n      let temp = this.azureLocations[liveRegion.GeoRegion];\n\n      if (temp != undefined) {\n        temp['ENUtilization'] = \"ENUtilization : \" + liveRegion.ENUtilization;\n        temp['SellableCapacity'] = \"SellableCapacity : \" + liveRegion.SellableCapacity;\n        this.azureLocations[liveRegion.GeoRegion] = temp;\n      }\n    }\n  }\n\n  getAllRegions() {\n    fetch(\"https://localhost:44303/api/region/all\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        liveRegions: JSON.parse(result.content)\n      });\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      this.setState({\n        isLoaded: true,\n        //error, \n        liveRegions: JSON.parse(\"[\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiac\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiac2\\\",\\r\\n    \\\"ENUtilization\\\": 0.206272628376153,\\r\\n    \\\"SellableCapacity\\\": 645.533784483392\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiac2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiac\\\",\\r\\n    \\\"ENUtilization\\\": 0.0573458976921956,\\r\\n    \\\"SellableCapacity\\\": 492.705483712312\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"brazilsouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.779200496884996,\\r\\n    \\\"SellableCapacity\\\": 3791.34110485532\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"canadacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"canadaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.95073382950338,\\r\\n    \\\"SellableCapacity\\\": 6818.37188293521\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"canadaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"canadacentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.804313914354259,\\r\\n    \\\"SellableCapacity\\\": 2566.95936181672\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinae2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinan2\\\",\\r\\n    \\\"ENUtilization\\\": 0.610317970874247,\\r\\n    \\\"SellableCapacity\\\": 1598.31068323299\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinanorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.947250232259428,\\r\\n    \\\"SellableCapacity\\\": 880.676404815236\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinan2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinae2\\\",\\r\\n    \\\"ENUtilization\\\": 0.31715564370525,\\r\\n    \\\"SellableCapacity\\\": 1565.59150495433\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinanorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.719603258960372,\\r\\n    \\\"SellableCapacity\\\": 1582.30860375164\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"francec\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"frances\\\",\\r\\n    \\\"ENUtilization\\\": 0.451292959276386,\\r\\n    \\\"SellableCapacity\\\": 2594.02603742201\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"frances\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"francec\\\",\\r\\n    \\\"ENUtilization\\\": 0.0608323194873547,\\r\\n    \\\"SellableCapacity\\\": 184.443158380835\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"germanycentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"germanynortheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.846700531001157,\\r\\n    \\\"SellableCapacity\\\": 610.606374238042\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"germanynortheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"germanycentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.049697990689322,\\r\\n    \\\"SellableCapacity\\\": 787.31161151834\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.719831752733901,\\r\\n    \\\"SellableCapacity\\\": 2880.83451958223\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiawest\\\",\\r\\n    \\\"ENUtilization\\\": 0.808999064760372,\\r\\n    \\\"SellableCapacity\\\": 2063.24538651605\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiawest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.396668165586758,\\r\\n    \\\"SellableCapacity\\\": 946.363675266424\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"southafrican\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"southafricaw\\\",\\r\\n    \\\"ENUtilization\\\": 0.133515222844747,\\r\\n    \\\"SellableCapacity\\\": 2697.2076523967\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"southafricaw\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"southafrican\\\",\\r\\n    \\\"ENUtilization\\\": 0.0364406947381838,\\r\\n    \\\"SellableCapacity\\\": 214.157321993637\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uaec\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uaen\\\",\\r\\n    \\\"ENUtilization\\\": 0.0135382649635972,\\r\\n    \\\"SellableCapacity\\\": 457.629419935326\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uaen\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uaec\\\",\\r\\n    \\\"ENUtilization\\\": 0.0267496479475738,\\r\\n    \\\"SellableCapacity\\\": 1731.36299215706\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uknorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uksouth2\\\",\\r\\n    \\\"ENUtilization\\\": 0.0115602277632722,\\r\\n    \\\"SellableCapacity\\\": 7.90447212525157\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uksouth2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uknorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0131242812264612,\\r\\n    \\\"SellableCapacity\\\": 10.0940950138578\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usdodcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usdodeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.044377554276552,\\r\\n    \\\"SellableCapacity\\\": 1095.45563599489\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usdodeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usdodcentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.0920889316678471,\\r\\n    \\\"SellableCapacity\\\": 1305.34167797235\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0115936334083814,\\r\\n    \\\"SellableCapacity\\\": 201.966280123991\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"ENUtilization\\\": 0.539478772947593,\\r\\n    \\\"SellableCapacity\\\": 4371.27177781199\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"ENUtilization\\\": 0.310843809429767,\\r\\n    \\\"SellableCapacity\\\": 1845.53752095676\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovsw\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"ENUtilization\\\": 0.292403115733846,\\r\\n    \\\"SellableCapacity\\\": 1905.54153004799\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"asiaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"asiasoutheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0264385315063232,\\r\\n    \\\"SellableCapacity\\\": 495.316772495317\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswestcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswest2\\\",\\r\\n    \\\"ENUtilization\\\": 0.706274931712499,\\r\\n    \\\"SellableCapacity\\\": 2725.09567869503\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"asiasoutheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"asiaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.033159362424118,\\r\\n    \\\"SellableCapacity\\\": 2121.82423703965\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiasoutheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0183640295325548,\\r\\n    \\\"SellableCapacity\\\": 331.122799421573\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiasoutheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.00207123280223091,\\r\\n    \\\"SellableCapacity\\\": 241.320166049535\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"europenorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"europewest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0227039526397944,\\r\\n    \\\"SellableCapacity\\\": 3362.46570088732\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"europewest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"europenorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0523047178642486,\\r\\n    \\\"SellableCapacity\\\": 3802.36476943627\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"japaneast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"japanwest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0096905861883758,\\r\\n    \\\"SellableCapacity\\\": 81.5841845870485\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"japanwest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"japaneast\\\",\\r\\n    \\\"ENUtilization\\\": 0.00117634790258178,\\r\\n    \\\"SellableCapacity\\\": 36.8262956073467\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"koreacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"koreasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.00442366599285696,\\r\\n    \\\"SellableCapacity\\\": 24.6833647385551\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"koreasouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"koreacentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.00120856474694767,\\r\\n    \\\"SellableCapacity\\\": 0.530314940833126\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uksouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ukwest\\\",\\r\\n    \\\"ENUtilization\\\": 0.00575212165828923,\\r\\n    \\\"SellableCapacity\\\": 678.828421415019\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"ukwest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uksouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0261184901897857,\\r\\n    \\\"SellableCapacity\\\": 84.7056761104647\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uscentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"useast2\\\",\\r\\n    \\\"ENUtilization\\\": 0.0718292787368946,\\r\\n    \\\"SellableCapacity\\\": 1257.03756062344\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"useast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0498671184660675,\\r\\n    \\\"SellableCapacity\\\": 5289.47918830411\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"useast2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uscentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.300700755111187,\\r\\n    \\\"SellableCapacity\\\": 529.937964013045\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usnorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.00335940389062647,\\r\\n    \\\"SellableCapacity\\\": 329.147424955026\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usnorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.000538021582806487,\\r\\n    \\\"SellableCapacity\\\": 3294.03213805351\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"useast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0150215451082009,\\r\\n    \\\"SellableCapacity\\\": 6081.95368715337\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswest2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswestcentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.255146702604695,\\r\\n    \\\"SellableCapacity\\\": 1589.23653590432\\r\\n  }\\r\\n]\")\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"chartdiv\",\n      style: {\n        paddingLeft: 0,\n        paddingRight: 0,\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["C:\\Users\\tekommin.REDMOND\\source\\repos\\capacity-management-ui\\src\\Map.js"],"names":["React","am4core","am4themes_animated","am4maps","am4charts","am4geodata_worldLow","am4geodata_usaLow","am4geodata_australiaLow","am4geodata_chinaLow","am4geodata_indiaLow","am4geodata_japanLow","am4geodata_canadaLow","am4geodata_ukLow","azureLocations","useTheme","Map","Component","constructor","props","state","error","isLoaded","liveRegions","chart","componentDidMount","create","MapChart","geodata","projection","projections","Miller","worldSeries","series","push","MapPolygonSeries","useGeodata","polygonTemplate","mapPolygons","template","tooltipText","fill","colors","getIndex","nonScalingStroke","hs","states","properties","color","exclude","events","on","event","console","log","zoomLevel","zoomGeoPoint","usaSeries","australiaSeries","chinaSeries","indiaSeries","japanSeries","canadaSeries","ukSeries","setState","getAllRegions","componentDidUpdate","prevProps","prevState","renderMap","componentWillUnmount","updateAzureLocations","renderGeoLocations","renderGeoPairLines","includeExcludeGeoLocations","applyHeatLegend","liveRegion","temp","GeoRegion","undefined","ENUtilization","SellableCapacity","imageSeries","MapImageSeries","imageSeriesTemplate","mapImages","circle","createChild","Circle","radius","stroke","strokeWidth","nonScaling","propertyFields","latitude","longitude","imageSeriesData","data","lineSeries","MapArcSeries","lineSeriesTemplate","mapLines","shortestDistance","line","strokeOpacity","controlPointDistance","drawnRegions","drawnLines","drawnLine","i","length","toString","GeoPairRegion","multiGeoLine","bullet","lineObjects","position","arrow","Triangle","horizontalCenter","verticalCenter","direction","width","height","labelBullet","Label","text","NumberOfPrimaryTenants","dy","fontSize","isGeographical","renderSelectedRegions","geographyType","zoomToGeoPoint","fetch","then","res","json","result","JSON","parse","content","render","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4geodata_worldLow from \"@amcharts/amcharts4-geodata/worldLow\";\r\nimport am4geodata_usaLow from \"@amcharts/amcharts4-geodata/usaLow\";\r\nimport am4geodata_australiaLow from \"@amcharts/amcharts4-geodata/australiaLow\";\r\nimport am4geodata_chinaLow from \"@amcharts/amcharts4-geodata/chinaLow\";\r\nimport am4geodata_indiaLow from \"@amcharts/amcharts4-geodata/indiaLow\";\r\nimport am4geodata_japanLow from \"@amcharts/amcharts4-geodata/japanLow\";\r\nimport am4geodata_canadaLow from \"@amcharts/amcharts4-geodata/canadaLow\";\r\nimport am4geodata_ukLow from \"@amcharts/amcharts4-geodata/ukLow\";\r\nimport azureLocations from './AzureLocations.json';\r\nam4core.useTheme(am4themes_animated);\r\n\r\n\r\nclass Map extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      liveRegions: [],\r\n      chart: null\r\n    };    \r\n  }\r\n  \r\n  azureLocations = azureLocations;\r\n  \r\n  componentDidMount() {\r\n\r\n    let chart = am4core.create(\"chartdiv\", am4maps.MapChart);\r\n\r\n    // Set map definition\r\n    chart.geodata = am4geodata_worldLow;\r\n    \r\n    // Set projection\r\n    chart.projection = new am4maps.projections.Miller();\r\n    \r\n    // Series for World map\r\n    let worldSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    worldSeries.useGeodata = true;\r\n    \r\n    var polygonTemplate = worldSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n    \r\n    // Hover state\r\n    let hs = polygonTemplate.states.create(\"hover\");\r\n    hs.properties.fill = am4core.color(\"#367B25\");\r\n    worldSeries.exclude = [\"AQ\"];\r\n    //worldSeries.exclude = [\"HK\"];\r\n\r\n    polygonTemplate.events.on(\"hit\", function (event) {\r\n      console.log(chart.zoomLevel);\r\n      console.log(chart.zoomGeoPoint);\r\n    })\r\n\r\n    /**\r\n     * Series for the U.S. map\r\n     * It will use its own `geodata`\r\n     */\r\n    let usaSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    usaSeries.geodata = am4geodata_usaLow;\r\n    usaSeries.useGeodata = true;\r\n    polygonTemplate = usaSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n\r\n     /**\r\n     * Series for the Australia Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let australiaSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    australiaSeries.geodata = am4geodata_australiaLow;\r\n    australiaSeries.useGeodata = true;\r\n    polygonTemplate = australiaSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n    /**\r\n     * Series for the China Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let chinaSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    chinaSeries.geodata = am4geodata_chinaLow;\r\n    chinaSeries.useGeodata = true;\r\n    polygonTemplate = chinaSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n    /**\r\n     * Series for the India Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let indiaSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    indiaSeries.geodata = am4geodata_indiaLow;\r\n    indiaSeries.useGeodata = true;\r\n    polygonTemplate = indiaSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n    /**\r\n     * Series for the Japan Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let japanSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    japanSeries.geodata = am4geodata_japanLow;\r\n    japanSeries.useGeodata = true;\r\n    polygonTemplate = japanSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n    /**\r\n     * Series for the Canada Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let canadaSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    canadaSeries.geodata = am4geodata_canadaLow;\r\n    canadaSeries.useGeodata = true;\r\n    polygonTemplate = canadaSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n        /**\r\n     * Series for the UK Map\r\n     * It will use its own `geodata`\r\n     */\r\n    let ukSeries = chart.series.push(new am4maps.MapPolygonSeries());\r\n    ukSeries.geodata = am4geodata_ukLow;\r\n    ukSeries.useGeodata = true;\r\n    polygonTemplate = ukSeries.mapPolygons.template;\r\n    polygonTemplate.tooltipText = \"{name}\";\r\n    polygonTemplate.fill = chart.colors.getIndex(0);\r\n    polygonTemplate.nonScalingStroke = true;\r\n\r\n    this.setState({\r\n        chart: chart\r\n    });\r\n\r\n    this.getAllRegions();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState)\r\n  {\r\n    if(this.state.isLoaded)\r\n      this.renderMap(this.state.chart);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n  \r\n  }\r\n  \r\n  renderMap(chart)\r\n  {\r\n    this.updateAzureLocations();\r\n    this.renderGeoLocations(chart);\r\n    this.renderGeoPairLines(chart);\r\n    this.includeExcludeGeoLocations(chart);\r\n    this.applyHeatLegend(chart);\r\n  }\r\n\r\n  updateAzureLocations()\r\n  {\r\n    for (var liveRegion of this.state.liveRegions)\r\n    {\r\n        let temp = this.azureLocations[liveRegion.GeoRegion];\r\n        if(temp != undefined)\r\n        {\r\n          temp['ENUtilization'] = \"ENUtilization : \" + liveRegion.ENUtilization;\r\n          temp['SellableCapacity'] = \"SellableCapacity : \" + liveRegion.SellableCapacity;\r\n          this.azureLocations[liveRegion.GeoRegion] = temp;\r\n        }\r\n    }\r\n  }\r\n\r\n  renderGeoLocations(chart)\r\n  {\r\n    /*\r\n      Adding markers\r\n    */\r\n    let imageSeries = chart.series.push(new am4maps.MapImageSeries());\r\n    let imageSeriesTemplate = imageSeries.mapImages.template;\r\n    let circle = imageSeriesTemplate.createChild(am4core.Circle);\r\n    circle.radius = 3;\r\n    circle.fill = am4core.color(\"#221177\");\r\n    circle.stroke = am4core.color(\"#FFFFFF\");\r\n    circle.strokeWidth = 1;\r\n    circle.nonScaling = true;\r\n    circle.tooltipText = \"{region} \\n {location} \\n {ENUtilization} \\n {SellableCapacity}\";\r\n\r\n    imageSeriesTemplate.propertyFields.latitude = \"latitude\";\r\n    imageSeriesTemplate.propertyFields.longitude = \"longitude\";\r\n\r\n    let imageSeriesData = [];\r\n    console.log(this.state.liveRegions);\r\n    for (var liveRegion of this.state.liveRegions)\r\n    {\r\n        imageSeriesData.push(this.azureLocations[liveRegion.GeoRegion]);\r\n    }\r\n\r\n    imageSeries.data = imageSeriesData;\r\n\r\n    this.renderGeoPairLines(chart);\r\n    \r\n  }\r\n\r\n  renderGeoPairLines(chart)\r\n  {\r\n    var lineSeries = chart.series.push(new am4maps.MapArcSeries());\r\n    let lineSeriesTemplate = lineSeries.mapLines.template;\r\n    lineSeriesTemplate.shortestDistance = true;\r\n    lineSeriesTemplate.line.strokeWidth = 1;\r\n    lineSeriesTemplate.line.stroke = am4core.color(\"#2277AA\");\r\n    lineSeriesTemplate.line.strokeOpacity = 0.8;    \r\n    lineSeriesTemplate.line.controlPointDistance = 0.5;\r\n\r\n    let drawnRegions = [];\r\n    let drawnLines = [];\r\n    for (var liveRegion of this.state.liveRegions)\r\n    { \r\n      let drawnLine = false;\r\n      var i=0;\r\n      for(; i<drawnRegions.length; i++)\r\n      { \r\n        var temp = drawnRegions[i];\r\n        if(temp.toString() === [liveRegion.GeoPairRegion, liveRegion.GeoRegion].toString())\r\n        {\r\n          drawnLine = true;\r\n          break;\r\n        }\r\n      }\r\n      if(liveRegion.GeoRegion in this.azureLocations &&  !drawnLine)\r\n      {\r\n        var line = lineSeries.mapLines.create();\r\n        line.multiGeoLine = [[\r\n          {\"latitude\" : this.azureLocations[liveRegion.GeoRegion].latitude,\r\n          \"longitude\" : this.azureLocations[liveRegion.GeoRegion].longitude},\r\n          {\"latitude\" : this.azureLocations[liveRegion.GeoPairRegion].latitude,\r\n          \"longitude\" : this.azureLocations[liveRegion.GeoPairRegion].longitude}\r\n        ]];\r\n        var bullet = line.lineObjects.create();\r\n        bullet.position = 0.2;\r\n        var arrow = bullet.createChild(am4core.Triangle);\r\n        arrow.horizontalCenter = \"middle\";\r\n        arrow.verticalCenter = \"middle\";\r\n        arrow.stroke = am4core.color(\"#fff\");\r\n        arrow.direction = \"top\";\r\n        arrow.width = 7;\r\n        arrow.height = 7;\r\n\r\n      \r\n        var labelBullet = line.lineObjects.create();\r\n        labelBullet = bullet.createChild(am4core.Label);\r\n        labelBullet.position = 0.2;\r\n        labelBullet.text = liveRegion.NumberOfPrimaryTenants;\r\n        labelBullet.dy = -20;\r\n        labelBullet.fontSize = 10;\r\n\r\n        \r\n        drawnRegions.push([liveRegion.GeoRegion, liveRegion.GeoPairRegion]); \r\n        drawnLines.push(line);\r\n      }\r\n      if (drawnLine)\r\n      {\r\n        var line = drawnLines[i];\r\n        var bullet = line.lineObjects.create();\r\n        bullet.position = 0.8;\r\n        var arrow = bullet.createChild(am4core.Triangle);\r\n        arrow.horizontalCenter = \"middle\";\r\n        arrow.verticalCenter = \"middle\";\r\n        arrow.stroke = am4core.color(\"#fff\");\r\n        arrow.direction = \"top\";\r\n        arrow.width = 7;\r\n        arrow.height = 7;\r\n\r\n      \r\n        var labelBullet = line.lineObjects.create();\r\n        labelBullet = bullet.createChild(am4core.Label);\r\n        labelBullet.position = 0.8;\r\n        labelBullet.text = liveRegion.NumberOfPrimaryTenants;\r\n        labelBullet.dy = -20;\r\n        console.log(liveRegion.GeoRegion);\r\n      }\r\n    }\r\n  }\r\n\r\n  includeExcludeGeoLocations(chart)\r\n  {\r\n      if(this.props.isGeographical)\r\n          this.renderSelectedRegions(chart);\r\n  }\r\n\r\n  renderSelectedRegions(chart)\r\n  {\r\n      let worldSeries = chart.series.getIndex(0);\r\n      console.log(this.props.geographyType);\r\n      if(this.props.geographyType === \"Americas\")\r\n      {\r\n        //chart.events.on(\"ready\", function(ev) {\r\n          chart.zoomToGeoPoint({longitude: -96.700470, latitude:  40.820744}, 2.4, true);       \r\n        //});  \r\n      }\r\n      if(this.props.geographyType === \"Asia Pacific\")\r\n      {\r\n       // chart.zoomToMapObject(worldSeries.getPolygonById(\"AU\"));\r\n                //chart.events.on(\"ready\", function(ev) {\r\n                  chart.zoomToGeoPoint({longitude: 125.560310, latitude:  -8.556856}, 1.8, true);                      \r\n                   \r\n                  //});  \r\n\r\n      }\r\n      if(this.props.geographyType === \"Europe\")\r\n      {\r\n        chart.zoomToGeoPoint({longitude: 19.040236, latitude:   47.497913}, 2.5, true); \r\n      }\r\n      if(this.props.geographyType === \"Middle East And Africa\")\r\n      {\r\n        chart.zoomToGeoPoint({longitude: 32.582520, latitude: 0.347596}, 2.3, true);\r\n      }\r\n      if(this.props.geographyType === \"Azure Government\")\r\n      {\r\n        //chart.events.on(\"ready\", function(ev) {\r\n          chart.zoomToGeoPoint({longitude: -96.700470, latitude:  40.820744}, 2.4, true);       \r\n        //});  \r\n      }\r\n  }\r\n\r\n  applyHeatLegend(chart)\r\n  {\r\n    for (var liveRegion of this.state.liveRegions)\r\n    {\r\n        let temp = this.azureLocations[liveRegion.GeoRegion];\r\n        if(temp != undefined)\r\n        {\r\n          temp['ENUtilization'] = \"ENUtilization : \" + liveRegion.ENUtilization;\r\n          temp['SellableCapacity'] = \"SellableCapacity : \" + liveRegion.SellableCapacity;\r\n          this.azureLocations[liveRegion.GeoRegion] = temp;\r\n        }\r\n    }\r\n  }\r\n  getAllRegions()\r\n  {\r\n    fetch(\"https://localhost:44303/api/region/all\")\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          liveRegions: JSON.parse(result.content)\r\n        });\r\n      },\r\n      // Note: it's important to handle errors here\r\n      // instead of a catch() block so that we don't swallow\r\n      // exceptions from actual bugs in components.\r\n      (error) => {\r\n        this.setState({\r\n          isLoaded: true,\r\n          //error, \r\n          liveRegions: JSON.parse(\"[\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiac\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiac2\\\",\\r\\n    \\\"ENUtilization\\\": 0.206272628376153,\\r\\n    \\\"SellableCapacity\\\": 645.533784483392\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiac2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiac\\\",\\r\\n    \\\"ENUtilization\\\": 0.0573458976921956,\\r\\n    \\\"SellableCapacity\\\": 492.705483712312\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"brazilsouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.779200496884996,\\r\\n    \\\"SellableCapacity\\\": 3791.34110485532\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"canadacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"canadaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.95073382950338,\\r\\n    \\\"SellableCapacity\\\": 6818.37188293521\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"canadaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"canadacentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.804313914354259,\\r\\n    \\\"SellableCapacity\\\": 2566.95936181672\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinae2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinan2\\\",\\r\\n    \\\"ENUtilization\\\": 0.610317970874247,\\r\\n    \\\"SellableCapacity\\\": 1598.31068323299\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinanorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.947250232259428,\\r\\n    \\\"SellableCapacity\\\": 880.676404815236\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinan2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinae2\\\",\\r\\n    \\\"ENUtilization\\\": 0.31715564370525,\\r\\n    \\\"SellableCapacity\\\": 1565.59150495433\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"chinanorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"chinaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.719603258960372,\\r\\n    \\\"SellableCapacity\\\": 1582.30860375164\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"francec\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"frances\\\",\\r\\n    \\\"ENUtilization\\\": 0.451292959276386,\\r\\n    \\\"SellableCapacity\\\": 2594.02603742201\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"frances\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"francec\\\",\\r\\n    \\\"ENUtilization\\\": 0.0608323194873547,\\r\\n    \\\"SellableCapacity\\\": 184.443158380835\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"germanycentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"germanynortheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.846700531001157,\\r\\n    \\\"SellableCapacity\\\": 610.606374238042\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"germanynortheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"germanycentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.049697990689322,\\r\\n    \\\"SellableCapacity\\\": 787.31161151834\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.719831752733901,\\r\\n    \\\"SellableCapacity\\\": 2880.83451958223\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiawest\\\",\\r\\n    \\\"ENUtilization\\\": 0.808999064760372,\\r\\n    \\\"SellableCapacity\\\": 2063.24538651605\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"indiawest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"indiasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.396668165586758,\\r\\n    \\\"SellableCapacity\\\": 946.363675266424\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"southafrican\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"southafricaw\\\",\\r\\n    \\\"ENUtilization\\\": 0.133515222844747,\\r\\n    \\\"SellableCapacity\\\": 2697.2076523967\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"southafricaw\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"southafrican\\\",\\r\\n    \\\"ENUtilization\\\": 0.0364406947381838,\\r\\n    \\\"SellableCapacity\\\": 214.157321993637\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uaec\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uaen\\\",\\r\\n    \\\"ENUtilization\\\": 0.0135382649635972,\\r\\n    \\\"SellableCapacity\\\": 457.629419935326\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uaen\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uaec\\\",\\r\\n    \\\"ENUtilization\\\": 0.0267496479475738,\\r\\n    \\\"SellableCapacity\\\": 1731.36299215706\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uknorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uksouth2\\\",\\r\\n    \\\"ENUtilization\\\": 0.0115602277632722,\\r\\n    \\\"SellableCapacity\\\": 7.90447212525157\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uksouth2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uknorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0131242812264612,\\r\\n    \\\"SellableCapacity\\\": 10.0940950138578\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usdodcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usdodeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.044377554276552,\\r\\n    \\\"SellableCapacity\\\": 1095.45563599489\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usdodeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usdodcentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.0920889316678471,\\r\\n    \\\"SellableCapacity\\\": 1305.34167797235\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0115936334083814,\\r\\n    \\\"SellableCapacity\\\": 201.966280123991\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"ENUtilization\\\": 0.539478772947593,\\r\\n    \\\"SellableCapacity\\\": 4371.27177781199\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgoveast\\\",\\r\\n    \\\"ENUtilization\\\": 0.310843809429767,\\r\\n    \\\"SellableCapacity\\\": 1845.53752095676\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usgovsw\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usgovsc\\\",\\r\\n    \\\"ENUtilization\\\": 0.292403115733846,\\r\\n    \\\"SellableCapacity\\\": 1905.54153004799\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"asiaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"asiasoutheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0264385315063232,\\r\\n    \\\"SellableCapacity\\\": 495.316772495317\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswestcentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswest2\\\",\\r\\n    \\\"ENUtilization\\\": 0.706274931712499,\\r\\n    \\\"SellableCapacity\\\": 2725.09567869503\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"asiasoutheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"asiaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.033159362424118,\\r\\n    \\\"SellableCapacity\\\": 2121.82423703965\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiaeast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiasoutheast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0183640295325548,\\r\\n    \\\"SellableCapacity\\\": 331.122799421573\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"australiasoutheast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"australiaeast\\\",\\r\\n    \\\"ENUtilization\\\": 0.00207123280223091,\\r\\n    \\\"SellableCapacity\\\": 241.320166049535\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"europenorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"europewest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0227039526397944,\\r\\n    \\\"SellableCapacity\\\": 3362.46570088732\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"europewest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"europenorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0523047178642486,\\r\\n    \\\"SellableCapacity\\\": 3802.36476943627\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"japaneast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"japanwest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0096905861883758,\\r\\n    \\\"SellableCapacity\\\": 81.5841845870485\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"japanwest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"japaneast\\\",\\r\\n    \\\"ENUtilization\\\": 0.00117634790258178,\\r\\n    \\\"SellableCapacity\\\": 36.8262956073467\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"koreacentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"koreasouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.00442366599285696,\\r\\n    \\\"SellableCapacity\\\": 24.6833647385551\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"koreasouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"koreacentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.00120856474694767,\\r\\n    \\\"SellableCapacity\\\": 0.530314940833126\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uksouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ukwest\\\",\\r\\n    \\\"ENUtilization\\\": 0.00575212165828923,\\r\\n    \\\"SellableCapacity\\\": 678.828421415019\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"ukwest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uksouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.0261184901897857,\\r\\n    \\\"SellableCapacity\\\": 84.7056761104647\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uscentral\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"useast2\\\",\\r\\n    \\\"ENUtilization\\\": 0.0718292787368946,\\r\\n    \\\"SellableCapacity\\\": 1257.03756062344\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"useast\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswest\\\",\\r\\n    \\\"ENUtilization\\\": 0.0498671184660675,\\r\\n    \\\"SellableCapacity\\\": 5289.47918830411\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"useast2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uscentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.300700755111187,\\r\\n    \\\"SellableCapacity\\\": 529.937964013045\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"usnorth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"ENUtilization\\\": 0.00335940389062647,\\r\\n    \\\"SellableCapacity\\\": 329.147424955026\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"ussouth\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"usnorth\\\",\\r\\n    \\\"ENUtilization\\\": 0.000538021582806487,\\r\\n    \\\"SellableCapacity\\\": 3294.03213805351\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswest\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"useast\\\",\\r\\n    \\\"ENUtilization\\\": 0.0150215451082009,\\r\\n    \\\"SellableCapacity\\\": 6081.95368715337\\r\\n  },\\r\\n  {\\r\\n    \\\"GeoRegion\\\": \\\"uswest2\\\",\\r\\n    \\\"GeoPairRegion\\\": \\\"uswestcentral\\\",\\r\\n    \\\"ENUtilization\\\": 0.255146702604695,\\r\\n    \\\"SellableCapacity\\\": 1589.23653590432\\r\\n  }\\r\\n]\")\r\n        });\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"chartdiv\" style={{ paddingLeft: 0, paddingRight: 0, height: \"100%\" }}></div>\r\n    );\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Map;"]},"metadata":{},"sourceType":"module"}